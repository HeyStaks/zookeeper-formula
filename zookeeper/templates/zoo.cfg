{% from 'zookeeper/map.jinja' import zookeeper with context -%}
tickTime=2000
initLimit=10
syncLimit=5
dataDir={{ zookeeper.config.data_dir }}
clientPort={{ zookeeper.config.client_port }}
{%- if zookeeper.config.snap_count != 'None' %}
snapCount={{ zookeeper.config.snap_count }}
{%- endif %}
autopurge.snapRetainCount={{ zookeeper.config.snap_retain_count }}
{%- if zookeeper.config.purge_interval != 'None' %}
autopurge.purgeInterval={{ zookeeper.config.purge_interval }}
{%- endif %}
{%- if zookeeper.config.max_client_cnxns != 'None' %}
maxClientCnxns={{ zookeeper.config.max_client_cnxns }}
{%- endif %}
{%- if zookeeper.ips|length() == 1 %}
clientPortAddress={{ zookeeper.config.bind_address }}
{%- else %}
{%- for id, myid in zookeeper.myids.iteritems() %}
server.{{ myid }}={{ zookeeper.ips[id][0] }}:2888:3888
{%- endfor %}
{%- endif %}
